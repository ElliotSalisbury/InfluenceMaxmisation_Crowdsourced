<template name="lobby">
    <div class="container">
        <div class="row">
            <h1>LOBBY</h1>
            {{> accept_qualifications }}
            {{> common_instructions EXPANDED="in" }}
            <!--<button class="btn btn-warning" id="lobbyready">I have read the tutorial</button>-->
            <div aria-live="polite">
                {{> Template.dynamic template = ready_template }}
            </div>
        </div>
    </div>
</template>

<template name="accept_qualifications">
    <h3>To accept this HIT, you must be able to do the following:</h3>
    <ul>
        <li>
            This HIT requires you to <strong>accept desktop notifications</strong>. These notifications alert you when you have been paired with another player.
            When you push the button below, your browser will ask you if you want to show notifications from this site. You must chose allow to continue with the HIT.
            <button id="desktopnotifications" type="button" class="btn btn-primary btn-lg center-block">Click to Request Notifications</button>
        </li>

        <li>This HIT will take approximately <strong>10 minutes.</strong></li>
        <li><strong>Be prepared to work on this HIT immediately</strong> since you will be playing with another worker.</li>
        <li>Do NOT leave this tab open for later, do NOT open multiple tabs, you may only participate in one of these HITs at a time</li>
    </ul>
</template>

<template name="lobby_notready">
    <button class="btn btn-primary" id="lobbyready" disabled>I have read the tutorial (you must accept notifications first)</button>
</template>

<template name="lobby_ready">
    <div id="lobbyjumbo" class="jumbotron">
        <h3>Waiting for enough users to start the task. Sit tight for a few minutes!</h3>

        <p>There are {{count}} user(s) currently waiting:</p>
    </div>
</template>

<template name="common_instructions">
    <div class="panel-group">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a class="accordion-toggle" data-toggle="collapse" href="#collapse1"><strong>Instructions:</strong> Click to Expand</a>
                </h4>
            </div>
            <div id="collapse1" class="panel-collapse collapse {{EXPANDED}}">
                <div class="panel-body">
                    <p>
                        You are in control of a disease that will spread through a network of people.
                        Some people are strongly connected to each other, while others are only connected via friends of friends.
                    </p>
                    <p>
                        Your aim is to spread the disease to as many people in the network as possible.
                        While an opposing player is spreading a vaccine through the population, making it harder for you to infect everybody.
                    </p>

                    Once you have finished reading these instructions:
                    <ul>
                        <li>You will be paired with another worker, and you will be randomly assigned the role of either the disease or the vaccine</li>
                        <li>You will both be shown the same network of people, and you will take turns in choosing a person to spread your disease or vaccine too.</li>
                        <li>The disease or vaccine will spread through the network, but does so randomly based on the likelihood of that person interacting with their friends.</li>
                        <li>You will be <strong>bonused</strong> based on how much many people you manage to infect/vaccinate.</li>
                    </ul>

                    <h4>Contact Details:</h4>
                    <p>If you have any problems or suggestions, do not hesitate to contact us at: <a href="mailto:amt.orchid@gmail.com">amt.orchid@gmail.com</a></p>

                    <p>Example Interface</p>
                    <img class="img-responsive" src="/img/blind_tutorial.png">
                </div>
                <!--<div class="panel-footer">Panel Footer</div>-->
            </div>
        </div>
    </div>
</template>